<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>YaAdmin :: Statistic</title>
	
	<script type="text/javascript" src="js/modernizr-1.6.min.js"></script>
	<script type="text/javascript" src="js/jquery-1.4.4.min.js"></script>
	<script type="text/javascript" src="js/jquery-ui-1.8.7.custom.min.js"></script>
	<script type="text/javascript" src="js/jquery.flot.min.js"></script>
	<script type="text/javascript" src="js/jquery.ga.js"></script>
	<script type="text/javascript" src="js/jquery.visualize.js"></script>
	<script type="text/javascript" src="js/jquery.rloader-1.1.min.js"></script>
	<script type="text/javascript" src="js/jquery.validate.pack.js"></script>
	<script type="text/javascript" src="js/yaadmin.js"></script>
	<script type="text/javascript" src="js/custom.js"></script>
	<script type="text/javascript" src="js/toolbar.js"></script>
	
	<!-- JS Compressor
	<script type="text/javascript" src="js/js.php?js,modernizr-1.6.min,jquery-1.4.4.min,jquery-ui-1.8.7.custom.min,jquery.flot.min,jquery.ga,jquery.visualize,jquery.rloader-1.1.min,jquery.validate.pack,yaadmin,custom,toolbar"></script>
	-->
	
	<!--[if IE]><script type="text/javascript" src="js/excanvas.js"></script><![endif]-->
	
	<link rel="stylesheet" type="text/css" href="css/reset.css" media="screen"/>
	<link rel="stylesheet" type="text/css" href="css/fluidgrid/fluidgrid.css" media="screen"/>
	<link rel="stylesheet" type="text/css" href="css/fluidgrid/fluidgrid-12.css" media="screen"/>
	<link rel="stylesheet" type="text/css" href="css/general.css" media="screen"/>
	<link rel="stylesheet" type="text/css" href="css/styles.css" media="screen"/>
	<link rel="stylesheet" type="text/css" href="css/menu.css" media="screen"/>
	<link rel="stylesheet" type="text/css" href="css/buttons.css" media="screen"/>
	<link rel="stylesheet" type="text/css" href="css/forms.css" media="screen"/>
	<link rel="stylesheet" type="text/css" href="css/tables.css" media="screen"/>
	<link rel="stylesheet" type="text/css" href="css/visualize.css" media="screen"/>
	<link rel="stylesheet" type="text/css" href="css/prettyPhoto.css" media="screen"/>
	
	<!-- CSS Compressor
	<link rel="stylesheet" type="text/css" href="css/css.php?css,reset,fluidgrid/fluidgrid,fluidgrid/fluidgrid-12,general,styles,menu,buttons,forms,tables,visualize,prettyPhoto" media="screen"/>
	-->
	
	<link rel="stylesheet" type="text/css" href="css/smoothness/jquery-ui-1.8.7.custom.css" media="screen"/>
	<!--[if lt IE 9]>
	<link rel="stylesheet" type="text/css" href="css/ie.css" media="screen" />
	<![endif]-->
</head>
<body>
<div id="page-body">
	<div id="wrapperbg">
		<div id="wrapper">
			<header>
				<!-- horizontal multilevel menu [begin] -->
				<nav id="menu">
					<ul class="menu">
						<li class="parent"><a href="#"><img src="images/icons/PixeloPhilia/home.png" alt="" /></a>
							<ul>
								<li><a href="#">Sub Item 2</a></li>
								<li><a href="#">Sub Item 3</a></li>
							</ul>
						</li>
						<li class="parent"><a href="#"><img src="images/icons/PixeloPhilia/user-1.png" alt="" /></a>
							<ul>
								<li class="parent"><a href="#">Sub Item 1</a>
									<ul>
										<li><a href="#">Sub Item 1.1</a></li>
										<li><a href="#">Sub Item 1.2</a></li>
									</ul>
								</li>
								<li class="parent"><a href="#">Sub Item 2</a>
								   <ul>
										<li><a href="#">Sub Item 2.1</a></li>
										<li><a href="#">Sub Item 2.2</a></li>
									</ul>
								</li>
								<li><a href="#">Sub Item 3</a></li>
								<li><a href="#">Sub Item 4</a></li>
								<li><a href="#">Sub Item 5</a></li>
								<li><a href="#">Sub Item 6</a></li>
								<li><a href="#">Sub Item 7</a></li>
							</ul>
						</li>
						<li><a href="#"><img src="images/icons/PixeloPhilia/settings.png" alt="" /></a></li>
						<li><a href="#"><img src="images/icons/PixeloPhilia/twitter.png" alt="" /><span>Twitter<small>@faragly</small></span></a></li>
					</ul>
					<div id="topnav">
						<a href="#"><img alt="" src="images/noavatar.png" class="avatar" /></a>
						Logged in as <strong>Admin</strong>
						<span>|</span> <a href="#">Settings</a>
						<span>|</span> <a href="login.html">Logout</a><br/>
						<small>You have <a href="#"><strong>1</strong> new message!</a></small>
					</div>
				</nav>
				<!-- horizontal multilevel menu [end] -->
				
				<!-- horizontal main tabs menu [begin] -->
				<nav class="tabs">
					<ul>
						<li><a href="index.html">Dashboard</a></li>
						<li><a href="forms.html">Forms</a></li>
						<li class="current"><a href="stats.html">Statistics</a></li>
						<li><a href="typography.html">Typography</a></li>
						<li><a href="grids.html">Grids</a></li>
						<li><a href="tables.html">Tables</a></li>
						<li><a href="gallery.html">Gallery</a></li>
						<li><a href="filemanager.html">File manager</a></li>
					</ul>
				</nav>
				<!-- horizontal main tabs menu [end] -->
				
			</header>
			<div id="container">
				<!-- main header [begin] -->
				<header>
					Statistic
					<!-- search [begin] -->
					<form method="get" action="" id="search">
						<input type="text" class="text" size="30" name="q" placeholder="Search" />
					</form>
					<!-- search [end] -->
				</header>
				<!-- main header [end] -->
				
				<div class="colmask rightmenu">
					<div class="colleft">
						<div class="col1wrap">
							<div id="page" class="col1">
								<!-- CONTENT [begin] -->
								<!--  breadcrumbs [begin] -->
								<div class="breadcrumb">
									<ul>
										<li><a href="index.html">Dashboard</a></li>
										<li><a href="stats.html">Statistic</a></li>
										<li>Google Analytics</li>
									</ul>
								</div>
								<!--  breadcrumbs [end] -->
								
								<!--<h3 class="line"></h3>
								
								<h3 class="line"></h3>
								<div id="visualize"></div>-->
								
								<div class="areatabs">
									<ul class="tabs">
										<li class="current"><a href="#">GA jQuery Visualize</a></li>
										<li><a href="#">Code</a></li>
									</ul>
									<div class="panes">
										<div class="pane visible">
											<div id="visualize"></div>
											
										</div>
										<div class="pane">
											<h3 class="line marginTop-10">Javascript</h3>
<pre class="code language-js">
// graph color schemes
var color = [
	["#6fb9e8", "#ec8526", "#9dc453", "#ddd74c"], // default
	["#c9e054", "#eab19d", "#e05461", "#b454e0"], // light
	["#b4b280", "#dd9473", "#7fdd73", "#7396dd"], // washy
	["#707ABD", "#833607", "#94A34C", "#FFCF2E"], // marine
	["#8ED915", "#0F5BBD", "#00AA58", "#E74B16"] // primary
];
// At this point you can choose any other color scheme for graphics
var defaultColorScheme = color[0];

// Run the main function of drawing the graph is complete DOM
$(window).load(initStats);

/* jquery visualize function 
@index index color scheme of the array color 0...4
*/
function visualize(type, index){
	index = index || defaultColorScheme;
	// remove all graphs
	//if($('div.visualize').length > 0) $('.visualize').remove();
	$('table.graph').each(function(){
		if($(this).attr('rel')) type = $(this).attr('rel');
		$(this).hide().visualize({
			type: type,
			width: $('#visualize').width() - 40 +"px",
			height: "150px",
			lineWeight: 2,
			colors: index
		}).appendTo('#visualize').trigger('visualizeRefresh');
	});
}

// This function creates a table from JSON data returned by the server
function getStats(data){
	if($.isArray(data)){
		var thead = '&lt;thead&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;{%ths%}&lt;/tr&gt;&lt;/thead&gt;';
		var tbody = '&lt;tbody&gt;&lt;tr&gt;&lt;th scope="row"&gt;Visits&lt;/th&gt;{%tds%}&lt;/tr&gt;&lt;tr&gt;&lt;th scope="row"&gt;Pageviews&lt;/th&gt;{%tds2%}&lt;/tr&gt;&lt;/tbody&gt;';
		var th = '';
		var td = '';
		var td2 = '';
		
		$.each(data, function(index, value){
			if(index%7==0) th += '&lt;th scope="col"&gt;'+value[0]+'&lt;/th&gt;';
			else th += '&lt;th scope="col"&gt;&lt;/th&gt;';
			td += '&lt;td&gt;'+value[1]+'&lt;/td&gt;';
			td2 += '&lt;td&gt;'+value[2]+'&lt;/td&gt;';
		});
		thead = thead.replace("{%ths%}", th);
		tbody = tbody.replace("{%tds%}", td).replace("{%tds2%}", td2);
		var table = $("&lt;table/&gt;", { 'class': 'graph', rel: 'line', html: thead + tbody }).appendTo(visualizeholder);
		visualize("area", defaultColorScheme);
	}else{
		visualizeholder.html('&lt;div class="error"&gt;Error! &lt;a href="#" onclick="initStats();return false;"&gt;Try again&lt;/a&gt;&lt;/div&gt;');
		$(".error", visualizeholder).css("lineHeight", visualizeholder.height()+'px');
	}
}

function initStats(){
	// loading...
	visualizeholder = $("#visualize").empty();
	var loading = $('&lt;div class="loading"&gt;Loading...&lt;/div&gt;').appendTo(visualizeholder);
	var ltop = (visualizeholder.height()/2-loading.height()/2)+'px';
	var lleft = (visualizeholder.width()/2-loading.outerWidth()/2)+'px';
	loading.css({top:ltop,left:lleft}).show();
	
	// the path to the php file and the request to the server
	$.post("php/ajax.php", { get: 'statistic', type: 'visualize' }, getStats, 'json');
}
</pre>
<h3 class="line marginTop-10">HTML</h3>
<pre class="code language-html">&lt;div id="visualize"&gt;&lt;/div&gt;</pre>
<h3 class="line marginTop-10">PHP file (<i>php/ajax.php</i>)</h3>
<p>In this file you will need to enter data for authentication (your e-mail and password), and the Google report ID for the selected account.</p>
<pre class="code language-php">
&lt;?

$email = "yourmail@gmail.com";
$password = "PASSWORD";
$report_id = 34583510; // $report_id is the Google report ID for the selected account

.......
</pre>

										</div>
									</div>
								</div>
								<div class="areatabs">
									<ul class="tabs">
										<li class="current"><a href="#">GA jQuery Flot</a></li>
										<li><a href="#">Code</a></li>
									</ul>
									<div class="panes">
										<div class="pane visible">
											<div id="placeholder"></div>
										</div>
										<div class="pane">
											<h3 class="line marginTop-10">Javascript</h3>
											<p class="marginBottom-10">For this kind of schedule I wrote a plugin for jquery, which by default takes the following parameters:</p>
<pre class="code language-js">
var defaultSettings = {
	// php file on the server that receives requests
	file	: 'php/ajax.php',
	
	// more options ajax request
	params	: {
		get: "statistic"
	},
	
	// text spinner that displays while waiting for data
	loadingText	: 'Loading...',
	
	// locale setting for tooltips on points
	lang	: {
		daysOfWeek	: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
		dateformat	: "l, F j, Y", // Wednesday, May 19, 2010
		daysOfWeekShort	: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
		monthFullNames	: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
		visits	: "Visits",
		monthShortNames	: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
	}
}
</pre>
<p class="marginBottom-10">For use on the page you just call the plugin in the following line:</p>
<pre class="code language-js">
$("#placeholder").ga();
</pre>
<p class="marginBottom-10">If the same php file located at <em class="box">/modules/stats/ga.php</em>, then add the parameter of the call:</p>
<pre class="code language-js">
$("#placeholder").ga({ file: '/modules/stats/ga.php' });
</pre>

											<h3 class="line marginTop-10">HTML</h3>
											<pre class="code language-html">&lt;div id="placeholder"&gt;&lt;/div&gt;</pre>
											<h3 class="line marginTop-10">PHP file (<i>php/ajax.php</i>)</h3>
											<p>In this file you will need to enter data for authentication (your e-mail and password), and the Google report ID for the selected account.</p>
<pre class="code language-php">
&lt;?

$email = "yourmail@gmail.com";
$password = "PASSWORD";
$report_id = 34583510; // $report_id is the Google report ID for the selected account

.......
</pre>
										</div>
									</div>
								</div>

								
								<!-- CONTENT [end] -->
							</div>
						</div>
						<div class="col2">
							<!-- SIDEBAR [begin] -->
							
							<!-- right menu [begin] -->
							<nav class="left">
								<ul>
									<li class="current"><a href="stats.html">Google Analytics</a></li>
									<li><a href="stats_flot.html">jQuery Flot</a></li>
									<li><a href="stats_visualize.html">jQuery Visualize</a></li>
								</ul>
							</nav>
							<!-- right menu [end] -->
							<!-- block with header [begin] -->
							<div class="block">
								<h3><span>Header</span></h3>
								<div class="bcontent">
									Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
								</div>
							</div>
							<!-- block with header [end] -->
							
							<!-- block without header [begin] -->
							<div class="block">
								<div class="bcontent">
									Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
								</div>
							</div>
							<!-- block without header [end] -->
							
							<!-- SIDEBAR [end] -->
						</div>
					</div>
				</div>
				<div class="clearfix"></div>
			</div>
		</div>
		<!-- footer [begin] -->
		<footer>&copy; Copyright 2010 by <a href="#">Your Company</a></footer>
		<!-- footer [end] -->
	</div>
</div>
</body>
</html>